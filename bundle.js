/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var n={56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var i={},a=[],c=0;c<n.length;c++){var u=n[c],s=r.base?u[0]+r.base:u[0],l=i[s]||0,d="".concat(s," ").concat(l);i[s]=l+1;var p=e(d),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var v=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:v,references:1})}a.push(d)}return a}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var c=e(i[a]);t[c].references--}for(var u=r(n,o),s=0;s<i.length;s++){var l=e(i[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=u}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e}).join("")},t.i=function(n,e,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(a[u]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},365:(n,t,e)=>{e.d(t,{A:()=>c});var r=e(601),o=e.n(r),i=e(314),a=e.n(i)()(o());a.push([n.id,'body {\n  margin: 0;\n  padding: 0;\n  background: #f0f2f5;\n  font-family: "Segoe UI", Arial, sans-serif;\n}\n\n.app {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 30px 20px 60px;\n}\n\n.title {\n  text-align: center;\n  margin-bottom: 30px;\n  color: #333;\n}\n\n.timeline {\n  display: flex;\n  flex-direction: column-reverse;\n  gap: 15px;\n}\n\n.post {\n  background: #ffffff;\n  border-radius: 8px;\n  padding: 15px 18px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.post-text {\n  font-size: 16px;\n  color: #222;\n}\n\n.coords {\n  font-size: 12px;\n  color: #666;\n}\n\n.media-container {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.play-icon {\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  opacity: 0.8;\n  transition: opacity .2s ease;\n}\n\n.play-icon:hover {\n  opacity: 1;\n}\n\n.input-panel {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #ffffff;\n  border-top: 1px solid #ddd;\n  padding: 12px 20px;\n  display: flex;\n  justify-content: center;\n}\n\n.input {\n  width: 100%;\n  max-width: 600px;\n  padding: 12px;\n  font-size: 16px;\n  border: 1px solid #bbb;\n  border-radius: 6px;\n  outline: none;\n  transition: border 0.2s ease;\n}\n\n.input:focus {\n  border-color: #0078ff;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal-content {\n  background: white;\n  padding: 20px 30px;\n  border-radius: 10px;\n  max-width: 350px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.modal-content input {\n  padding: 10px;\n  font-size: 16px;\n  border: 1px solid #aaa;\n  border-radius: 6px;\n}\n\n.modal-content button {\n  padding: 10px;\n  font-size: 16px;\n  background: #0078ff;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n\n.modal-content button:hover {\n  background: #005fcc;\n}\n\n.modal-content button:last-child {\n  background: #777;\n}\n\n.modal-content button:last-child:hover {\n  background: #555;\n}',""]);const c=a},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(n=t.currentScript.src),!n)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!n||!/^http(s?):/.test(n));)n=r[o--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.nc=void 0;var r=e(72),o=e.n(r),i=e(825),a=e.n(i),c=e(659),u=e.n(c),s=e(56),l=e.n(s),d=e(540),p=e.n(d),f=e(113),v=e.n(f),m=e(365),y={};y.styleTagTransform=v(),y.setAttributes=l(),y.insert=u().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=p(),o()(m.A,y),m.A&&m.A.locals&&m.A.locals;const b=e.p+"assets/playd4470a35270b98e5e097.svg";function h(n){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},h(n)}function g(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,x(r.key),r)}}function x(n){var t=function(n){if("object"!=h(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=h(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==h(t)?t:t+""}var w=function(){return n=function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=t},(t=[{key:"addPost",value:function(n,t){var e='\n      <div class="post">\n        <div class="post-text">'.concat(n,'</div>\n        <div class="coords">[').concat(t.lat,", ").concat(t.lon,"]</div>\n      </div>\n    ");this.container.insertAdjacentHTML("beforeend",e)}},{key:"addAudio",value:function(n,t){var e='\n      <div class="post">\n        <div class="media-container">\n          <img class="play-icon"\n               src="'.concat(b,'"      \x3c!-- Вот путь к иконке --\x3e\n               data-audio="').concat(n,'"\n               alt="Play">\n        </div>\n        <div class="coords">[').concat(t.lat,", ").concat(t.lon,"]</div>\n      </div>\n    ");this.container.insertAdjacentHTML("beforeend",e)}},{key:"addVideo",value:function(n,t){var e='\n      <div class="post">\n        <div class="media-container">\n          <img class="play-icon"\n               src="'.concat(b,'"      \x3c!-- Вот путь к иконке --\x3e\n               data-video="').concat(n,'"\n               alt="Play">\n        </div>\n        <div class="coords">[').concat(t.lat,", ").concat(t.lon,"]</div>\n      </div>\n    ");this.container.insertAdjacentHTML("beforeend",e)}}])&&g(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function S(){return new Promise(function(n,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){return n({lat:t.coords.latitude,lon:t.coords.longitude})},function(){return t("Denied")}):t("Not supported")})}function j(n){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},j(n)}function k(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,T(r.key),r)}}function T(n){var t=function(n){if("object"!=j(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=j(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==j(t)?t:t+""}var E=function(){return n=function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.onSuccess=t},(t=[{key:"show",value:function(){var n=this,t=document.createElement("div");t.classList.add("modal"),t.innerHTML='\n      <div class="modal-content">\n        <p>Не удалось определить координаты. Укажите вручную:</p>\n        <input id="coord-input" placeholder="[51.50851, -0.12572]">\n        <button id="coord-ok">OK</button>\n        <button id="coord-cancel">Cancel</button>\n      </div>\n    ',document.body.appendChild(t),document.getElementById("coord-ok").onclick=function(){try{var e=function(){var n=document.getElementById("coord-input").value.replace("[","").replace("]","").trim().split(",");if(2!==n.length)throw new Error("Wrong format");var t=parseFloat(n[0]),e=parseFloat(n[1]);if(isNaN(t)||isNaN(e))throw new Error("Wrong format");return{lat:t,lon:e}}();n.onSuccess(e),t.remove()}catch(n){alert("Ошибка формата")}},document.getElementById("coord-cancel").onclick=function(){t.remove()}}}])&&k(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function P(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return O(s,"_invoke",function(e,r,o){var i,c,u,s=0,l=o||[],d=!1,p={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(t,e){return i=t,c=0,u=n,p.n=e,a}};function f(e,r){for(c=e,u=r,t=0;!d&&s&&!o&&t<l.length;t++){var o,i=l[t],f=p.p,v=i[2];e>3?(o=v===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=n):i[0]<=f&&((o=e<2&&f<i[1])?(c=0,p.v=r,p.n=i[1]):f<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,c=0))}if(o||e>1)return a;throw d=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,v),c=l,u=v;(t=c<2?n:u)||!d;){i||(c?c<3?(c>1&&(p.n=-1),f(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=n}else if((t=(d=p.n<0)?u:e.call(r,p))!==a)break}catch(t){i=n,c=1,u=t}finally{s=1}}return{value:t,done:d}}}(e,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(O(t={},r,function(){return this}),t),d=s.prototype=c.prototype=Object.create(l);function p(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,O(n,o,"GeneratorFunction")),n.prototype=Object.create(d),n}return u.prototype=s,O(d,"constructor",s),O(s,"constructor",u),u.displayName="GeneratorFunction",O(s,o,"GeneratorFunction"),O(d),O(d,o,"Generator"),O(d,r,function(){return this}),O(d,"toString",function(){return"[object Generator]"}),(P=function(){return{w:i,m:p}})()}function O(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}O=function(n,t,e,r){function i(t,e){O(n,t,function(n){return this._invoke(t,e,n)})}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(i("next",0),i("throw",1),i("return",2))},O(n,t,e,r)}function A(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(n){return void e(n)}c.done?t(u):Promise.resolve(u).then(r,o)}document.getElementById("app").innerHTML='\n  <div class="timeline" id="timeline"></div>\n  <input id="input" placeholder="Введите текст и нажмите Enter">\n';var C=new w(document.getElementById("timeline"));document.getElementById("input").addEventListener("keydown",function(){var n,t=(n=P().m(function n(t){var e,r,o;return P().w(function(n){for(;;)switch(n.p=n.n){case 0:if("Enter"!==t.key){n.n=5;break}if(e=t.target.value.trim()){n.n=1;break}return n.a(2);case 1:return n.p=1,n.n=2,S();case 2:r=n.v,C.addPost(e,r),n.n=4;break;case 3:n.p=3,n.v,o=new E(function(n){C.addPost(e,n)}),o.show();case 4:t.target.value="";case 5:return n.a(2)}},n,null,[[1,3]])}),function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function a(n){A(i,r,o,a,c,"next",n)}function c(n){A(i,r,o,a,c,"throw",n)}a(void 0)})});return function(n){return t.apply(this,arguments)}}())})();